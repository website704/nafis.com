<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ููุตุฉ ูุงูุณ ุงูุชุนููููุฉ</title>
<link rel="stylesheet" href="style.css"> 
</head>
<body>
<header class="navbar">
    <div class="right-section">
        <p class="teacher">ุชูููุฐ ุงูุฃุณุชุงุฐุฉ</p>
        <h2 class="name">ุนุงุฆุดู ุงูุดูุฑู</h2>
    </div>
    <div class="left-section">
        <h1 class="rainbow-text">ููุตุฉ ูุงูุณ ุงูุชุนููููู<span class="bouncing-emoji">๐</span></h1>
        <p>ุงูุฑูุงุถูุงุช - ุงูุตู ุงูุณุงุฏุณ ุงูุงุจุชุฏุงุฆู</p>
    </div>
</header>
<div class="card" id="welcome-card">
    <h1>ูุฑุญุจูุง ุจู ูู ุฑุญูุฉ ุงูุชุนูู</h1>
    <p>ุงูุชุดู ุนุงูู ุงูุฑูุงุถูุงุช ุงูููุชุน ูุทูุฑ ููุงุฑุงุชู ุฎุทูุฉ ุจุฎุทูุฉ</p>
    <div class="stats">
        <div class="stat">
            <div class="icon">๐ฏ</div>
            <p class="level">ุงููุณุชูู: ูุจุชุฏุฆ</p>
        </div>
        <div class="stat">
            <div class="icon">โญ</div>
            <p class="points">ุงูููุงุท: 0</p>
        </div>
        <div class="stat">
            <div class="icon">๐</div>
            <p class="progress">ุชูุฏููู: 0%</p>
            <div class="bar"><div class="fill" style="width: 0%;"></div></div>
        </div>
    </div>
</div>

<h2>ุงูููุงุฑุงุช ุงูุฑูุงุถูุฉ</h2>
<div class="grid">
    <div class="card">
        <div class="icon">๐</div>
        <div class="title">ุงูููุงุณ</div>
        <div class="stars">โโโโโ</div>
        <div class="details">ูขู ุณุคุงู ุชูุงุนูู<br>ุงูููุงุท ุงูููุชุณุจุฉ</div>
        <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
        <div class="progress-text">ููุชูู ููช</div>
        <a href="quiz.html?subject=ุงูููุงุณ" class="button">๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ</a>
    </div>

    <div class="card">
        <div class="icon">๐</div>
        <div class="title">ุงูููุฏุณุฉ</div>
        <div class="stars">โโโโโ</div>
        <div class="details">ูขู ุณุคุงู ุชูุงุนูู<br>ุงูููุงุท ุงูููุชุณุจุฉ</div>
        <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
        <div class="progress-text">ููุชูู ููช</div>
        <a href="quiz.html?subject=ุงูููุฏุณุฉ" class="button">๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ</a>
    </div>

    <div class="card">
        <div class="icon">๐ข</div>
        <div class="title">ุงูุฃุนุฏุงุฏ ูุงูุนูููุงุช</div>
        <div class="stars">โโโโโ</div>
        <div class="details">ูขู ุณุคุงู ุชูุงุนูู<br>ุงูููุงุท ุงูููุชุณุจุฉ</div>
        <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
        <div class="progress-text">ููุชูู ููช</div>
        <a href="quiz.html?subject=ุงูุฃุนุฏุงุฏ ูุงูุนูููุงุช" class="button">๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ</a>
    </div>

    <div class="card">
        <div class="icon">๐</div>
        <div class="title">ุงููุณูุฑ ูุงูุจูุงูุงุช</div>
        <div class="stars">โโโโโ</div>
        <div class="details">ูกูข ุณุคุงู ุชูุงุนูู<br>ุงูููุงุท ุงูููุชุณุจุฉ</div>
        <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
        <div class="progress-text">ููุชูู ููช</div>
        <a href="quiz.html?subject=ุงููุณูุฑ ูุงูุจูุงูุงุช" class="button">๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ</a>
    </div>

    <div class="card">
        <div class="icon">๐งฉ</div>
        <div class="title">ุงููุณุงุฆู ุงูููุธูู ูุงูุฃููุงุท</div>
        <div class="stars">โโโโโ</div>
        <div class="details"> ุณุคุงู ุชูุงุนูู<br>ุงูููุงุท ุงูููุชุณุจุฉ</div>
        <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
        <div class="progress-text">ููุชูู ููช</div>
        <a href="quiz.html?subject=ุงููุณุงุฆู ุงูููุธูู ูุงูุฃููุงุท" class="button">๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ</a>
    </div>


<script>
function toArabicNumber(num) {
  const arabicDigits = ['ู','ูก','ูข','ูฃ','ูค','ูฅ','ูฆ','ูง','ูจ','ูฉ'];
  return num.toString().replace(/\d/g, d => arabicDigits[d]);
}

document.addEventListener("DOMContentLoaded", function() {
  const subjects = [
    "ุงูููุงุณ",
    "ุงูููุฏุณุฉ",
    "ุงูุฃุนุฏุงุฏ ูุงูุนูููุงุช",
    "ุงููุณูุฑ ูุงูุจูุงูุงุช",
    "ุงููุณุงุฆู ุงูููุธูู ูุงูุฃููุงุท",
  ];

  // ุชุญุฏูุซ ูู ุจุทุงูุฉ ูุงุฏุฉ
  document.querySelectorAll(".card").forEach(card => {
    const titleEl = card.querySelector(".title");
    if (!titleEl) return; // ุชุฎุทู ุจุทุงูุฉ ุงูุชุฑุญูุจ
    const title = titleEl.innerText.trim();

    const savedProgress = localStorage.getItem(title + "_progress");
    const savedPoints = localStorage.getItem(title + "_points");
    const percent = savedProgress ? parseInt(savedProgress) : 0;
    const points = savedPoints ? parseInt(savedPoints) : 0;

    // ุดุฑูุท ุงูุชูุฏู
    const fill = card.querySelector(".progress-fill");
    const text = card.querySelector(".progress-text");
    const details = card.querySelector(".details");

    if (fill && text) {
      fill.style.width = percent + "%";
      text.textContent = "ููุชูู " + toArabicNumber(percent) + "ูช";
    }

    // ุงูููุงุท ูู ุชูุงุตูู ุงููุฑุช
    if (details) {
      details.innerHTML = `ูขู ุณุคุงู ุชูุงุนูู<br>ุงูููุงุท ุงูููุชุณุจุฉ: ${toArabicNumber(points)}`;
    }
  });

  // ุชุญุฏูุซ ุงูุชูุฏู ุงูุนุงู ูู ุงูุชุฑุญูุจ
  let totalProgress = 0, subjectCount = 0;
  subjects.forEach(sub => {
    const val = localStorage.getItem(sub + "_progress");
    if (val) {
      totalProgress += parseInt(val);
      subjectCount++;
    }
  });
  const avgProgress = subjectCount > 0 ? Math.round(totalProgress / subjectCount) : 0;

  const welcomeFill = document.querySelector(".bar .fill");
  const welcomeText = document.querySelector(".progress");
  if (welcomeFill && welcomeText) {
    welcomeFill.style.width = avgProgress + "%";
    welcomeText.textContent = `ุชูุฏููู: ${toArabicNumber(avgProgress)}ูช`;
  }

  // ุชุญุฏูุซ ุงูููุงุท ุงูุฅุฌูุงููุฉ
  let totalPoints = 0;
  subjects.forEach(sub => {
    const pts = localStorage.getItem(sub + "_points");
    if (pts) totalPoints += parseInt(pts);
  });
  const welcomePoints = document.querySelector(".points");
  if (welcomePoints) {
    welcomePoints.textContent = "ุงูููุงุท: " + toArabicNumber(totalPoints);
  }
});
</script>

</body>
</html>